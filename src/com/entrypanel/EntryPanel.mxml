<?xml version="1.0" encoding="utf-8"?>
<s:SkinnablePopUpContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
						   xmlns:s="library://ns.adobe.com/flex/spark" 
						   width="100" height="50"
						   skinClass="com.entrypanel.EntryPanelSkin">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import spark.components.Label;
			import spark.components.TextInput;
			import spark.components.ViewNavigator;
			
			[SkinPart(required="true")]
			public var labelMessage:Label;
			
			[SkinPart(required="true")]
			public var inputEntry:TextInput;
			
			private static var _host : ViewNavigator;
			
			private static var _entryPanel : EntryPanel;
			
			/* 
				1. Support back button
			
			*/
			
			public static function show(host : ViewNavigator):EntryPanel
			{
				if (!_entryPanel)
				{
					_entryPanel = new EntryPanel();
				}
				
				_host = host;
				_host.addElement(_entryPanel);
				_entryPanel.move(50, -10);
				
				_entryPanel.inputEntry.needsSoftKeyboard = true;
				_entryPanel.inputEntry.requestSoftKeyboard();
				
				_entryPanel.stage.addEventListener(flash.events.KeyboardEvent.KEY_UP, _entryPanel.onFocusInHandler)
					
				return _entryPanel;
			}
			
			private function onFocusInHandler(event : KeyboardEvent):void
			{
				if (event.keyCode == 13)
				{
					hide();
				}
			}
			
			public static function hide():void
			{
				_host.removeElement(_entryPanel);
			}
			
		]]>
	</fx:Script>
	
</s:SkinnablePopUpContainer>
